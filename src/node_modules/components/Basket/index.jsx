import React from 'react'
import { connect } from 'react-redux'

import { getTotalBasketProducts } from 'selectors'
import { changeVisible } from 'reducers/basket'
import BasketList from 'components/Basket/BasketList'

function Basket({ products, allProducts, changeVisible}) {
    return (
        <div onClick={changeVisible} className='basket blue darken-1 white-text'>
            <i className="material-icons">shopping_cart</i>
            {products.length ? 
                <span className='basket-count'>{allProducts}</span>
            :
                null
            }
        </div>
    )
}

let mapStateToProps = state => {
    return {
        products: state.basket.products,
        allProducts: getTotalBasketProducts(state)
    }
},
mapDispatchToProps = {
    changeVisible
}

export default connect(mapStateToProps, mapDispatchToProps)(Basket)
