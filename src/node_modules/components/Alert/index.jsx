import React, { useEffect } from 'react'
import { connect } from 'react-redux'

import { closeAlert } from 'reducers/alert'

function Alert({name, closeAlert}) {

    useEffect(() => {
        const timerId = setTimeout(closeAlert, 1000)

        return () => {
            clearTimeout(timerId)
        }
    }, [name])

    return (
        <div id='toast-container'>
            <div className="toast">{name} добавлен в корзину</div>
        </div>
    )
}

let mapStateToProps = state => {
    return {
        name: state.alert.name
    }
},
mapDispatchToProps = {
    closeAlert
}

export default connect(mapStateToProps, mapDispatchToProps)(Alert)
