
export const getTotalBasketProducts = state => {
    let result = 0
    state.basket.products.forEach(product => result += product.count)
    return result
}

const getProductsId = products => {
    return products.map(product => product.id)
}

export const getOrders = state => {
    const orders = []
    state.shop.items.forEach(item => {
        if (getProductsId(state.basket.products).indexOf(item.id) !== -1) {
            state.basket.products.forEach(product => product.id === item.id ? item.count = product.count : '')
            orders.push(item)
        }
    })
    return orders
}

export const getSumAllOrders = state => {
    return getOrders(state).reduce((sum, item) => {
        return sum + (item.count * item.price)
    }, 0)
}